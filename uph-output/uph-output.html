<script type="text/javascript">
    (function() {

        function ws_label() {
            var wsNode = RED.nodes.node(this.client);
            return this.name || (wsNode ? wsNode.name + ":output" : "uph-status");
        }
        function ws_validateclient() {
            return RED.nodes.node(this.client) != null;
        }

        RED.nodes.registerType('uph-output',{
            category: 'upyhome',
            defaults: {
                name: {value:""},
                client: {type:"uph-client", validate: ws_validateclient}
            },
            color:"rgb(215, 215, 160)",
            inputs: 1,
            outputs: 0,
            icon: "white-globe.svg",
            align: "right",
            labelStyle: function() {
                return this.name?"node_label_italic":"";
            },
            label: ws_label
        });
    })();
</script>

<script type="text/html" data-template-name="uph-output">

    <div class="form-row" id="websocket-client-row">
        <label for="node-input-client"><i class="fa fa-bookmark"></i> <span data-i18n="websocket.label.url"></span></label>
        <input type="text" id="node-input-client">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name">
    </div>
</script>